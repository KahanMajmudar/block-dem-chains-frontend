<custom-loader *ngIf="loading"></custom-loader>

<div *ngIf="!loading">
    <nb-card>
        <nb-card-header>
            <nb-user *ngIf="userName" size="giant" [(name)]="userName"></nb-user>
        </nb-card-header>
        <nb-card-body>

            <ng-container *ngIf="userBio; else noUserBio">
                <div class="text-basic text-center">
                    {{userBio}}
                </div>
            </ng-container>
            <ng-template #noUserBio>
                <h4 class="text-hint text-center">Click to add your bio</h4>
                <div class="row" style="justify-content: center; margin-top: 35px;">
                    <nb-icon (click)="openDialog()" style="font-size: 100px;" class="text-hint"
                        icon="plus-circle-outline">
                    </nb-icon>
                </div>
            </ng-template>

        </nb-card-body>
        <nb-card-footer>
            <div class="text-hint text-right">
                Following: {{numOfUsersFollowed}}
            </div>
        </nb-card-footer>
    </nb-card>

    <nb-card>
        <nb-card-header>
            <div class="text-center text-body">
                Users following
            </div>
        </nb-card-header>
        <nb-card-body>
            <ng-container *ngIf="numOfUsersFollowed != 0; else usersFollowedNotZero">
                <nb-list>
                    <nb-list-item *ngFor="let user of usersFollowed">
                        <nb-user [name]="user.userName" [title]="user.userID">
                        </nb-user>
                        <button style="margin-left: auto;" (click)="unfollowUser(user.userID)" nbButton>Unfollow</button>
                    </nb-list-item>
                </nb-list>                
            </ng-container>
            <ng-template #usersFollowedNotZero>
                <h4 class="text-hint text-center">Follow a user by clickling the search button...</h4>
            </ng-template>
            
        </nb-card-body>
    </nb-card>
</div>